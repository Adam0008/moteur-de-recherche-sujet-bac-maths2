<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sujets et corrigés – Sujets Bac Maths</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="navbar" role="banner">
  <div class="navbar-inner">
    <a href="index.html" class="navbar-brand">Sujets Bac Maths</a>
    <button type="button" class="navbar-toggle" aria-label="Ouvrir le menu" aria-expanded="false">
      <span class="navbar-toggle-bar"></span>
      <span class="navbar-toggle-bar"></span>
      <span class="navbar-toggle-bar"></span>
    </button>
    <nav class="navbar-menu" aria-label="Navigation principale">
      <a href="index.html" class="navbar-link">Recherche</a>
      <a href="sujets-et-corriges.html" class="navbar-link active">Sujets et corrigés</a>
      <a href="sujets-traites.html" class="navbar-link">Sujets traités</a>
      <a href="#" class="navbar-link" id="nav-connexion">Connexion</a>
    </nav>
  </div>
</header>

<main class="main-content">
  <div class="container">
    <h1 class="page-header">Sujets et corrigés</h1>

    <section class="annee-section" style="margin-bottom: 24px;">
      <label for="select-annee-corriges">Année :</label>
      <select id="select-annee-corriges" class="select-annee-corriges" aria-label="Choisir l’année">
        <option value="2025">2025</option>
        <option value="2024">2024</option>
        <option value="2023">2023</option>
        <option value="2022">2022</option>
      </select>
    </section>

    <p id="annee-titre" class="annee-titre"></p>
    <ol id="liste-sujets-corriges" class="liste-sujets-corriges"></ol>
  </div>
</main>

<script src="sujets-corriges-data.js"></script>
<script>
(function () {
  const select = document.getElementById("select-annee-corriges");
  const titreAnnee = document.getElementById("annee-titre");
  const liste = document.getElementById("liste-sujets-corriges");
  const data = window.SUJETS_CORRIGES;

  function afficherAnnee(annee) {
    const items = data[annee];
    if (!items) return;
    const total = items.length;
    titreAnnee.textContent = "\uD83D\uDCD8 " + annee + " – Sujets et corrections (" + total + "/" + total + ")";
    titreAnnee.className = "annee-titre";

    liste.innerHTML = "";
    items.forEach(function (item, i) {
      const li = document.createElement("li");
      li.className = "item-sujet-corrige";
      const titre = document.createElement("strong");
      titre.textContent = (i + 1) + ". " + item.titre;
      li.appendChild(titre);

      const liens = document.createElement("div");
      liens.className = "liens-sujet-corrige";

      if (item.sujet) {
        const aSujet = document.createElement("a");
        aSujet.href = item.sujet;
        aSujet.target = "_blank";
        aSujet.rel = "noopener noreferrer";
        aSujet.textContent = "Sujet";
        liens.appendChild(aSujet);
        if (item.corrections && item.corrections.length > 0) liens.appendChild(document.createTextNode(" — "));
      }

      if (item.corrections && item.corrections.length > 0) {
        item.corrections.forEach(function (url, j) {
          if (j > 0) liens.appendChild(document.createTextNode(" · "));
          const aCor = document.createElement("a");
          aCor.href = url;
          aCor.target = "_blank";
          aCor.rel = "noopener noreferrer";
          aCor.textContent = item.corrections.length > 1 && j > 0 ? "Corrigé " + (j + 1) : "Correction";
          liens.appendChild(aCor);
        });
      }

      if (liens.childNodes.length) {
        li.appendChild(document.createElement("br"));
        li.appendChild(liens);
      }
      liste.appendChild(li);
    });
  }

  select.addEventListener("change", function () {
    afficherAnnee(select.value);
  });

  afficherAnnee(select.value);
})();
</script>
<!-- Modal Connexion / Inscription -->
<div id="auth-modal" class="auth-modal" role="dialog" aria-modal="true" aria-labelledby="auth-modal-titre" aria-hidden="true">
  <div class="auth-modal-overlay"></div>
  <div class="auth-modal-panel">
    <div class="auth-modal-header">
      <h2 id="auth-modal-titre" class="auth-modal-titre">Connexion</h2>
      <button type="button" class="auth-modal-close" aria-label="Fermer">✕</button>
    </div>
    <div class="auth-modal-body">
      <form id="auth-form-connexion" class="auth-form">
        <label for="auth-email">Adresse email</label>
        <input type="email" id="auth-email" name="email" required placeholder="vous@exemple.fr" autocomplete="email">
        <label for="auth-password">Mot de passe</label>
        <input type="password" id="auth-password" name="password" required placeholder="••••••••" autocomplete="current-password">
        <label class="auth-checkbox-label">
          <input type="checkbox" id="auth-show-password-connexion" class="auth-checkbox" aria-label="Afficher le mot de passe">
          <span>Afficher le mot de passe</span>
        </label>
        <button type="submit" class="auth-btn-submit">Se connecter</button>
        <p class="auth-switch">
          <button type="button" id="auth-go-inscription" class="auth-link">Pas encore de compte ? S'inscrire</button>
        </p>
        <p class="auth-switch">
          <button type="button" id="auth-forgot-password" class="auth-link">Mot de passe oublié ?</button>
        </p>
      </form>
      <form id="auth-form-inscription" class="auth-form auth-form-hidden">
        <label for="auth-nom">Nom</label>
        <input type="text" id="auth-nom" name="nom" required placeholder="Dupont">
        <label for="auth-prenom">Prénom</label>
        <input type="text" id="auth-prenom" name="prenom" required placeholder="Jean">
        <label for="auth-email-inscription">Adresse email</label>
        <input type="email" id="auth-email-inscription" name="email" required placeholder="vous@exemple.fr" autocomplete="email">
        <label for="auth-password-inscription">Mot de passe</label>
        <input type="password" id="auth-password-inscription" name="password" required placeholder="••••••••" autocomplete="new-password">
        <label for="auth-password-confirm">Confirmer le mot de passe</label>
        <input type="password" id="auth-password-confirm" name="password_confirm" required placeholder="••••••••" autocomplete="new-password">
        <label class="auth-checkbox-label">
          <input type="checkbox" id="auth-show-password-inscription" class="auth-checkbox" aria-label="Afficher les mots de passe">
          <span>Afficher le mot de passe</span>
        </label>
        <button type="submit" class="auth-btn-submit">Créer mon compte</button>
        <p class="auth-switch">
          <button type="button" id="auth-go-connexion" class="auth-link">Déjà un compte ? Se connecter</button>
        </p>
      </form>
      <!-- Mot de passe oublié : étape 1 (email) -->
      <form id="auth-form-reset-step1" class="auth-form auth-form-hidden">
        <label for="auth-reset-email">Adresse email</label>
        <input type="email" id="auth-reset-email" name="email" required placeholder="vous@exemple.fr" autocomplete="email">
        <button type="submit" class="auth-btn-submit">Envoyer le code</button>
        <p class="auth-switch">
          <button type="button" id="auth-reset-back-to-login-1" class="auth-link">Retour à la connexion</button>
        </p>
      </form>
      <!-- Mot de passe oublié : étape 2 (code) -->
      <form id="auth-form-reset-step2" class="auth-form auth-form-hidden">
        <p>Un code de validation à 6 caractères a été envoyé à votre adresse email.</p>
        <label for="auth-reset-code">Code de validation</label>
        <input type="text" id="auth-reset-code" name="code" required maxlength="6" placeholder="ABC123">
        <button type="submit" class="auth-btn-submit">Valider le code</button>
        <p class="auth-switch">
          <button type="button" id="auth-reset-back-to-login-2" class="auth-link">Annuler et revenir à la connexion</button>
        </p>
      </form>
      <!-- Mot de passe oublié : étape 3 (nouveau mot de passe) -->
      <form id="auth-form-reset-step3" class="auth-form auth-form-hidden">
        <label for="auth-reset-password">Nouveau mot de passe</label>
        <input type="password" id="auth-reset-password" name="password" required placeholder="••••••••" autocomplete="new-password">
        <label for="auth-reset-password-confirm">Confirmer le mot de passe</label>
        <input type="password" id="auth-reset-password-confirm" name="password_confirm" required placeholder="••••••••" autocomplete="new-password">
        <button type="submit" class="auth-btn-submit">Changer le mot de passe</button>
        <p class="auth-switch">
          <button type="button" id="auth-reset-back-to-login-3" class="auth-link">Annuler</button>
        </p>
      </form>
    </div>
  </div>
</div>
<script src="auth-modal.js"></script>
<script src="nav.js"></script>
</body>
</html>
